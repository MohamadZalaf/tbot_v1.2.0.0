# ููุฎุต ุงูุฅุตูุงุญุงุช ูุงูุชุญุณููุงุช - ุงูุจูุช v1.2.0

## ๐ฏ ุงููุฏู ูู ุงูุชุญุฏูุซ
ุฅูุบุงุก ุงูุงุนุชูุงุฏ ุนูู Yahoo Finance ูุงูุงุนุชูุงุฏ ููุท ุนูู MetaTrader5 ููุญุตูู ุนูู ุฃุณุนุงุฑ ูุญุธูุฉ ูุฏูููุฉุ ูุน ูุนุงูุฌุฉ ูุดุงูู ุงูุงุชุตุงู ูุชุญุณูู ุงูุฃุฏุงุก.

## โ ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

### 1. ุฅุฒุงูุฉ Yahoo Finance ุจุงููุงูู
- โ ุฅุฒุงูุฉ ุฌููุน ุงุณุชูุฑุงุฏุงุช `yfinance`
- โ ุญุฐู ุฏุงูุฉ `_convert_to_yahoo_symbol()`
- โ ุฅุฒุงูุฉ ููุทู fallback ุฅูู Yahoo Finance
- โ ุชุญุฏูุซ ุงูุฑุณุงุฆู ูุงููุตูุต ูุฅุฒุงูุฉ ุงูุฅุดุงุฑุงุช ุฅูู Yahoo Finance
- โ ุฅุฒุงูุฉ `yfinance>=0.2.18` ูู `requirements.txt`

### 2. ุชุญุณูู ุงุชุตุงู MT5
- โ ุชูููู tolerance ููุช ุงูุจูุงูุงุช ูู 15 ุฅูู 10 ุฏูุงุฆู ูู `get_price_data()`
- โ ุชูููู tolerance ููุช ุงูุจูุงูุงุช ูู 15 ุฅูู 5 ุฏูุงุฆู ูู `validate_connection_health()`
- โ ุชุญุณูู ููุทู ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุชููุงุฆู
- โ ุฅุถุงูุฉ ุชูุธูู cache ุนูุฏ ุงููุทุงุน ุงูุงุชุตุงู

### 3. ุชุญุณูู ุฅุฏุงุฑุฉ Cache
- โ ุชูููู ูุฏุฉ cache ูู 15 ุฅูู 5 ุซูุงู ููุญุตูู ุนูู ุจูุงูุงุช ุฃูุซุฑ ุฏูุฉ
- โ ุฅุถุงูุฉ ุฏุงูุฉ `clean_old_cache()` ููุชูุธูู ุงูุชููุงุฆู
- โ ุฅุถุงูุฉ ุฏุงูุฉ `clean_old_api_calls()` ูุชูุธูู ุณุฌูุงุช API ุงููุฏููุฉ
- โ ุชูุธูู ุดุงูู ููุจูุงูุงุช ุนูุฏ ุจุฏุก ุงูุชุดุบูู

### 4. ูุนุงูุฌุฉ ุฃุฎุทุงุก Telegram Polling
- โ ุฅุถุงูุฉ ูุธุงู retry ูุญุณู ูุน ุญุฏ ุฃูุตู 10 ูุญุงููุงุช
- โ ูุนุงูุฌุฉ ูููุตูุฉ ูุฃุฎุทุงุก `ApiException` ู `Exception` ุงูุนุงูุฉ
- โ ูุธุงู ุงูุชุธุงุฑ ุชุฏุฑูุฌู (exponential backoff)
- โ ุชุญุณูู ุฅุนุฏุงุฏุงุช timeout:
  - `CONNECT_TIMEOUT`: 30 ุซุงููุฉ (ุจุฏูุงู ูู 60)
  - `READ_TIMEOUT`: 30 ุซุงููุฉ (ุจุฏูุงู ูู 60)
  - `RETRY_TIMEOUT`: 2 ุซุงููุฉ (ุฌุฏูุฏ)

### 5. ุชุญุณูู ุฅุนุฏุงุฏุงุช Polling
- โ ุชุญุฏูุซ `infinity_polling` parameters:
  - `interval`: 2 ุซุงููุฉ (ุจุฏูุงู ูู 1)
  - `timeout`: 30 ุซุงููุฉ (ุจุฏูุงู ูู 60)
  - `long_polling_timeout`: 20 ุซุงููุฉ (ุฌุฏูุฏ)

### 6. ุชุญุณูู ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ
- โ ุชูุธูู ุดุงูู ููุจูุงูุงุช ุงููุคูุชุฉ ุนูุฏ ุจุฏุก ุงูุชุดุบูู
- โ ุชุญุณูู ุฏุงูุฉ `graceful_shutdown()` ูุชูุธูู ุงูุจูุงูุงุช ุนูุฏ ุงูุฅุบูุงู
- โ ุชูุธูู ุฏูุฑู ุชููุงุฆู ููุจูุงูุงุช ุงูููุชููุฉ ุงูุตูุงุญูุฉ

## ๐ง ุงูุชุญุณููุงุช ุงูุชูููุฉ

### ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ
- ุงูุจูุงูุงุช ุงูุฃูุฏู ูู 10 ุฏูุงุฆู ูุชู ุชุฌุงูููุง ูู `get_price_data()`
- ุงูุจูุงูุงุช ุงูุฃูุฏู ูู 5 ุฏูุงุฆู ุชุคุฏู ูุฅุนุงุฏุฉ ุงุชุตุงู ูู `validate_connection_health()`

### ุชุญุณูู ุงูุฃุฏุงุก
- ุชูููู cache duration ุฅูู 5 ุซูุงู ููุญุตูู ุนูู ุฃุณุนุงุฑ ุฃูุซุฑ ุฏูุฉ
- ุชูุธูู ุชููุงุฆู ููุฐุงูุฑุฉ ูููุน ุชุฑุงูู ุงูุจูุงูุงุช
- ุชุญุณูู timeout values ูุชูููู ููุช ุงูุงูุชุธุงุฑ

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ูุธุงู retry ุฐูู ูุน ุญุฏ ุฃูุตู ูููุญุงููุงุช
- ูุนุงูุฌุฉ ูููุตูุฉ ูุฃููุงุน ูุฎุชููุฉ ูู ุงูุฃุฎุทุงุก
- logging ูุญุณู ูุชุชุจุน ุงููุดุงูู

## ๐ฏ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ุญู ุงููุดุงูู ุงูุฑุฆูุณูุฉ
1. **"ุจูุงูุงุช MT5 ูุฏููุฉ"**: ุชู ุชูููู tolerance ูุถูุงู ุจูุงูุงุช ุฃูุซุฑ ุญุฏุงุซุฉ
2. **"ุงุณุชุฎุฏุงู Yahoo Finance ููุตุฏุฑ ุจุฏูู"**: ุชู ุฅูุบุงุคู ุจุงููุงูู
3. **"ุงูุจูุงูุงุช ูุฏููุฉ ุฌุฏุงู"**: ุชุญุณูู ุขููุฉ ูุดู ุงูุจูุงูุงุช ุงููุฏููุฉ
4. **"Infinity polling: polling exited"**: ูุนุงูุฌุฉ ูุญุณูุฉ ููุฃุฎุทุงุก

### ุชุญุณููุงุช ุงูุฃุฏุงุก
- โ ุฃุณุนุงุฑ ูุญุธูุฉ ุฃูุซุฑ ุฏูุฉ (cache 5 ุซูุงู ุจุฏูุงู ูู 15)
- โ ุงุณุชููุงู ุฐุงูุฑุฉ ุฃูู (ุชูุธูู ุชููุงุฆู)
- โ ุงุชุตุงู ุฃูุซุฑ ุงุณุชูุฑุงุฑุงู (timeout ูุญุณู)
- โ ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก (retry logic)

## ๐ ููุงุญุธุงุช ูููุฉ

### ูุชุทูุจุงุช ุงูุชุดุบูู
- ูุชุทูุจ ุงุชุตุงู ูุดุท ูุตุญู ุจู MetaTrader5
- ูุง ูุนูู ุงูุจูุช ุจุฏูู MT5 (ุชู ุฅูุบุงุก ุงูุจุฏุงุฆู)
- ูุญุชุงุฌ ุฅุนุฏุงุฏ ุตุญูุญ ูู MT5 ูุน ุจูุงูุงุช ูุญุธูุฉ

### ุงูุชูุงูู
- โ ูุชูุงูู ูุน ุฌููุน ููุฒุงุช ุงูุจูุช ุงูููุฌูุฏุฉ
- โ ูุง ูุคุซุฑ ุนูู ูุธุงู Gemini AI
- โ ูุญุงูุธ ุนูู ูุธุงู ุงูุชูููู ูุงูุชุนูู ุงูุขูู

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 2025-01-16
**ุงูุฅุตุฏุงุฑ**: v1.2.0 - Enhanced MT5 Only Version